<section class="m-3 Container_background">
  <div class="swiper reelsSwiper pb-5">
    <div class="row py-3 align-items-center justify-content-between">
      <div class="col-md-6">
        <h3 class="reels-heading py-2 h2-copy">Must Watch Reels</h3>
      </div>
      <div class="col-md-6 text-md-end text-start">
        <a href="/all-video-news/all" class="reels-view-all">VIEW ALL</a>
      </div>
    </div>

    <div class="swiper-wrapper">
      {% for reels in Reels %}
      <div class="swiper-slide">
        <div class="reels-video-wrapper">
          <a href="/video/{{reels.slug}}">
            <img src="https://img.youtube.com/vi/{{reels.video_url}}/hqdefault.jpg" alt="{{reels.video_title}}"
              title="{{reels.video_title}}" loading="lazy" class="dxb-video-thumb"/>
          </a>
        </div>
        <div class="items_background p-2">
          <a class="article-tag"
            href="{% url 'catdetails' catlink=reels.News_Category.sub_cat.cat_slug slug=reels.News_Category.subcat_slug %}">
            {{ reels.News_Category|truncatechars:30 }}
          </a>
          <h6 class="mb-3 reels-title">
            <a href="/video/{{reels.slug}}">
              {{ reels.video_title|truncatechars:55 }}
            </a>
          </h6>
          <p class="reels-meta">
            <i class="fas fa-calendar-alt"></i> {{ reels.schedule_date }}
            <i class="fas fa-eye mx-1"></i>{{reels.counter|add:reels.viewcounter}}
          </p>
        </div>
      </div>
      {% endfor %}
    </div>

    <div class="swiper-button-next reels-next"></div>
    <div class="swiper-button-prev reels-prev"></div>
  </div>
</section>

<!-- Swiper Scripts -->
<script>
  const reelsSwiper = new Swiper('.reelsSwiper', {
    slidesPerView: 1.2,
    spaceBetween: 15,
    loop: true,
    navigation: {
      nextEl: '.reels-next',
      prevEl: '.reels-prev',
    },
    breakpoints: {
      576: { slidesPerView: 2 },
      768: { slidesPerView: 5 },
      992: { slidesPerView: 6 }
    }
  });
</script>

<!-- Styles -->
<style>
  .dxb-video-thumb {
    width: 100%;
    height: 300px !important;
    object-fit: cover;
  }

  .reels-heading {
    text-align: left;
    font-size: 28px;
    font-weight: bold;
    text-transform: uppercase;
  }

  .reels-view-all {
    text-decoration: none;
  }

  .reelsSwiper {
    position: relative;
  }

  .reels-title {
    font-size: 16px;
    font-weight: 600;
    height: 45px;
    overflow: hidden;
    text-align: left;
    line-height: 22px;
  }

  .reels-title a {
    text-decoration: none;
  }

  .reels-title a:hover {
    text-decoration: none;
    color: #f3342a !important;
  }

  .reels-meta {
    font-size: 12px;
    text-align: left;
  }

  .reels-prev,
  .reels-next {
    color: #fff;
  }

  .swiper-slide {
    border-radius: 12px !important;
  }
</style>